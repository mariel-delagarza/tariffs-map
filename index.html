<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css"
      rel="stylesheet" />
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <!-- <link rel="stylesheet" href="style.css" /> -->

    <title>Tariff Chart and Map</title>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100..900;1,100..900&family=Newsreader:ital,opsz,wght@0,6..72,200..800;1,6..72,200..800&family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&family=UnifrakturMaguntia&display=swap');

      body {
        font-family: Georgia, serif;
        margin: 0;
        padding: 0;
        background: #fff;
        color: #111;
      }

      .container {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: flex-start;
        padding: 2rem 1rem;
        max-width: 1200px;
        margin: auto;
        gap: 2rem;
      }

      .chart-container,
      .map-container {
        flex: 1 1 500px;
        min-width: 300px;
      }

      .chart-title {
        font-family: "Libre Franklin", sans-serif;
        font-size: 1.25rem;
        margin-bottom: 0.5rem;
        font-weight: 600;
        text-align: center;
      }

      .map-titles {
        text-align: center;
        margin-bottom: 0;
        font-family: "Libre Franklin", sans-serif;
        text-align: left;
      }

      .map-title {
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 0;
      }

      .map-subtitle {
        font-size: 1rem;
        color: #555;
        margin: 0.5rem 0;
      }

      #chart,
      #map {
        width: 100%;
        height: 400px;
      }

      @media (max-width: 768px) {
        .container {
          flex-direction: column;
        }

        #chart,
        #map {
          height: 300px;
        }
      }

      .chart-controls {
        display: flex;
        gap: 1rem;
        margin-bottom: 1rem;
        justify-content: center;
      }

      .chart-controls button {
        padding: 0.5rem 1rem;
        border: 2px solid #000;
        background: white;
        font-weight: bold;
        cursor: pointer;
      }

      .chart-controls button.active {
        background: black;
        color: white;
      }
    </style>
  </head>

  <body>
    <main class="container">
      <section class="chart-container">
        <h3 class="chart-title">Comparison by Country</h3>
        <div class="chart-controls">
          <button id="sort-tariff" data-metric="tariff" class="active">Sort
            by Tariff Rate</button>
          <button id="sort-imports" data-metric="import-volume">Sort by 2024
            Import Value</button>
          <button id="new-threat-percent" data-metric="percent">View as % of
            US Imports</button>
        </div>
        <div id="new-threats-chart"></div>
      </section>

      <section class="map-container">
        <div class="map-titles">
          <h2 class="map-title">New threats targeting nearly two dozen
            countries</h2>
          <p class="map-subtitle">Rates as high as 50 percent could begin on
            Aug. 1.</p>
          <p class="map-subtitle">Hover over a country to see the threatened
            tariff rate in the chart.</p>
        </div>
        <div id="map"></div>
      </section>
    </main>
    <script src="https://unpkg.com/d3@5.9.1/dist/d3.min.js"></script>

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script
      src="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.js"></script>
    <script type="module" src="js/script.js"></script>
    <script type="module" src="js/newThreat.js"
      type="module"></script>
  </body>

</html>